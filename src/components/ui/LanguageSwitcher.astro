---
// LanguageSwitcher.astro
// Componente reutilizable para el selector de idioma

interface Props {
  variant?: 'header' | 'footer';
  currentLang: 'es' | 'en';
}

const { variant = 'header', currentLang = 'es' } = Astro.props;

// Determinar las clases según la variante
const containerClasses = variant === 'header'
  ? 'flex items-center rounded-lg p-0'
  : 'flex items-center space-x-2 bg-neutral-800 rounded-xl p-1.5';

const activeClasses = variant === 'header'
  ? 'inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-sm font-semibold text-neutral-900'
  : 'inline-flex items-center gap-1.5 px-3.5 py-1.5 rounded-lg text-sm font-semibold transition-all bg-primary text-white';

const inactiveClasses = variant === 'header'
  ? 'inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-sm font-semibold text-neutral-500 hover:text-neutral-800'
  : 'inline-flex items-center gap-1.5 px-3.5 py-1.5 rounded-lg text-sm font-semibold transition-all text-neutral-300 hover:text-white';

const dividerClasses = variant === 'header'
  ? 'hidden'
  : 'text-neutral-600';

const dividerContent = variant === 'header' ? '' : '|';
---

<div class={containerClasses}>
  <a 
    href="/"
    class={currentLang === 'es' ? activeClasses : inactiveClasses}
    aria-label="Página en español"
  >
    <svg aria-hidden="true" class="w-5 h-3.5 rounded-[2px] ring-1 ring-neutral-300" viewBox="0 0 28 20">
      <rect width="28" height="20" fill="#AA151B"></rect>
      <rect y="4" width="28" height="12" fill="#F1BF00"></rect>
    </svg>
    ES
  </a>
  <div class={dividerClasses}>{dividerContent}</div>
  <a 
    href="/en/"
    class={currentLang === 'en' ? activeClasses : inactiveClasses}
    aria-label="Switch to English"
  >
    <svg aria-hidden="true" class="w-5 h-3.5 rounded-[2px] ring-1 ring-neutral-300" viewBox="0 0 28 20">
      <rect width="28" height="20" fill="#B22234"></rect>
      <g fill="#fff">
        <rect y="2" width="28" height="2"></rect>
        <rect y="6" width="28" height="2"></rect>
        <rect y="10" width="28" height="2"></rect>
        <rect y="14" width="28" height="2"></rect>
        <rect y="18" width="28" height="2"></rect>
      </g>
      <rect width="12" height="9.5" fill="#3C3B6E"></rect>
      <g fill="#fff">
        <circle cx="1.5" cy="1.3" r="0.5"/>
        <circle cx="3.5" cy="2.3" r="0.5"/>
        <circle cx="5.5" cy="1.3" r="0.5"/>
        <circle cx="7.5" cy="2.3" r="0.5"/>
        <circle cx="9.5" cy="1.3" r="0.5"/>
        <circle cx="1.5" cy="3.3" r="0.5"/>
        <circle cx="3.5" cy="4.3" r="0.5"/>
        <circle cx="5.5" cy="3.3" r="0.5"/>
        <circle cx="7.5" cy="4.3" r="0.5"/>
        <circle cx="9.5" cy="3.3" r="0.5"/>
        <circle cx="1.5" cy="5.3" r="0.5"/>
        <circle cx="3.5" cy="6.3" r="0.5"/>
        <circle cx="5.5" cy="5.3" r="0.5"/>
        <circle cx="7.5" cy="6.3" r="0.5"/>
        <circle cx="9.5" cy="5.3" r="0.5"/>
      </g>
    </svg>
    EN
  </a>
</div>

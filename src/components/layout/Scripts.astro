---
// Scripts component for Agracom Internacional
// Mantiene utilidades ligeras de cliente sin duplicar la l√≥gica de i18n
---

<!-- Language preferences sync (no DOM rewrites) -->
<script is:inline>
  document.addEventListener('DOMContentLoaded', function() {
    try {
      const isEnglishPath = window.location.pathname.startsWith('/en');
      const lang = isEnglishPath ? 'en' : 'es';
      localStorage.setItem('preferred-language', lang);
    } catch (_) {}
  });
  
  // Expose helper to switch via URL (for potential future hooks)
  window.switchLanguage = function(newLang) {
    if (newLang !== 'es' && newLang !== 'en') return;
    const path = window.location.pathname.replace(/^\/en/, '') || '/';
    window.location.href = newLang === 'en' ? `/en${path}` : path;
  };
</script>
